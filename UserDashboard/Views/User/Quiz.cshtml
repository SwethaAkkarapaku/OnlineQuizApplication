@model List<OnlineQuizMVC.DTO.GetQuizDTO>

@{
    Layout = "UserDashboardLayout";
    // var selectedCategory = Request.Query["catg"];
}

<h2>Choose a Category</h2>

<form method="post" asp-action="Quiz">
    <select name="catg" class="form-control" onchange="this.form.submit()">
        <option value="">-- Select Category --</option>
        <option value="Frontend">Frontend</option>
        <option value="Backend">Backend</option>
        <option value="Database">Database</option>
    </select>
</form>

@if (Model != null && Model.Any())
{
    <table class="table table-bordered mt-3">
        <thead>
            <tr>
                <th>Title</th>
                <th>Category</th>
                <th>Duration</th>
                <th>Schedule Time</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var quiz in Model)
        {
            <tr>
                <td>@quiz.quizTitle</td>
                <td>@quiz.categoryName</td>
                <td>@quiz.duration</td>
                <td>@quiz.scheduleTime?.ToString("g")</td>
                <td>
                    <a asp-action="TakeQuiz" asp-route-id="@quiz.quizId" class="btn btn-primary">Take Quiz</a>
                </td>
            </tr>
        }
        </tbody>
    </table>
}
